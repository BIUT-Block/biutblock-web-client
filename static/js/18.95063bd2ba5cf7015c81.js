webpackJsonp([18,10],{"4AGf":function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAUVBMVEUAAAAo2JMo2JIo2JMo2JIl2pUp2JIp2JIo148p2JP7//1X4apo5LP1/frQ9+ix8dhg4q9Q36fz/fnC9OCq8NSk7tGd7c6L6sRx5bcz2Zgw2ZZglO/CAAAACXRSTlMA8MCAcDDvsCAqTgU7AAAAdUlEQVQY02WPVxLDIAwFVUD2gzSnJ/c/aFCEy4z3B1ZtJHKyiplopk5CYCl8wMIQ+Q2tJm/0NVkmXf1ZKpRk8Ue5AEIM1Nu3+d0d9g8cTx+cywEN9haPdIfE0HrtDqXM/k7vcB53i+1WdxL3es/P5zOLjv7/AfPTB1qs/XhRAAAAAElFTkSuQmCC"},NPxM:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a={name:"publicButton",props:{text:String},data:function(){return{}}},e={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"publicBtn"},[this._v(this._s(this.$t(this.text)))])},staticRenderFns:[]};var i=s("VU/8")(a,e,!1,function(t){s("vpjl")},"data-v-44ba936e",null);n.default=i.exports},P2IE:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAQlBMVEUAAADuHDjuGzjvGjjuGjjtHDj0FTX/DjPvGjfuHDjuGjjvGzjvGzfuGjjtGzjtHDntGjntGzfuGzbuHDf1FDPuGzkwlQxKAAAAFXRSTlMAwLZwV+cYBlz5sKyBSPXmfn1LShlBYlxgAAAAb0lEQVQY002OWw6AMAgEVyhgtfXd+1/VYEhkPkh2AmThWCMRaoZg3rirdq4l8opgnf88TT6XAtgGZww41dA4Cz5APYubIJqFiov/KZ7dTxIXoXHe4BNWs/BPJYpGMa+6pPxRKt/6XDwKAjtIdjrhvOCXA32y2G02AAAAAElFTkSuQmCC"},WYvF:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=s("mvHQ"),e=s.n(a),i=s("//Fk"),o=s.n(i),p=s("4AGf"),c=s.n(p),m=s("P2IE"),u=s.n(m),r=s("NPxM"),A=s("4PV6"),l={"content-type":"application/json"},g={name:"",props:{ethAddress:String,txhash:String},components:{publicButton:r.default},data:function(){return{maskPages:1,mappingResImg:c.a,maskConfirmBtn:!1,confirmButton:"mask.confirm",mappingResTxt:"mapping.mappingSuccess",timeoutShow:!1}},created:function(){},computed:{maskWidth:function(){return"zh"==this.$i18n.locale},maskList:function(){return[{id:"03",tit:"mapping.ethwalletddress",txt:this.ethAddress},{id:"03",tit:"mapping.mappingHash",txt:this.txhash}]}},methods:{closeMask:function(){var t=this.maskPages;this.$emit("close",t),this.maskPages=1,this.timeoutShow=!1},confirmMapping:function(){var t=this,n=this;this.timeoutShow=!1,n.maskConfirmBtn=!0,n.confirmButton="mapping.mappingButtonAcitve";var s,a,i={ethaddress:n.ethAddress.replace("0x",""),txhash:n.txhash.replace("0x","").toLowerCase()},p=new AbortController,m=p.signal;o.a.race([(a=3e4,new o.a(function(t,n){setTimeout(function(){t(new Response("timeout",{status:504,statusText:"timeout "})),p.abort()},a)})),(s=_const.url_mapping,A(s,{method:"post",body:e()(i),headers:l,signal:m}))]).then(function(s){n.maskConfirmBtn=!1,n.confirmButton="mask.confirm",504==s.status&&"timeout "==s.statusText?t.timeoutShow=!0:(n.maskPages=2,200==s.status?(n.mappingResTxt="mapping.mappingSuccess",n.mappingResImg=c.a):"txhash not found in eth network"==s.statusText?(n.mappingResTxt="mapping.mappingFailure1",n.mappingResImg=u.a):"txhash duplicated"==s.statusText?(n.mappingResTxt="mapping.mappingFailure2",n.mappingResImg=u.a):(n.mappingResTxt="mapping.mappingFailure3",n.mappingResImg=u.a))}).catch(function(t){alert("系统维护中，请稍后重试！"),console.log(t)})}}},h={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("section",{staticClass:"mask"},[1==t.maskPages?s("section",{staticClass:"mask_cnt mask-list"},[s("h4",{staticClass:"title-line"},[t._v("\n      "+t._s(t.$t("mapping.confirmMapping"))+"\n    ")]),t._v(" "),s("ul",[t._l(t.maskList,function(n,a){return s("li",{key:a},[s("span",{class:t.maskWidth?"enWidth":""},[t._v(" "+t._s(t.$t(n.tit))+": ")]),t._v(" "),s("span",[t._v(" "+t._s(n.txt)+" ")])])}),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:t.timeoutShow,expression:"timeoutShow"}]},[s("p",[t._v(t._s(t.$t("mask.maskTimeout")))])])],2),t._v(" "),s("section",[s("public-button",{attrs:{type:"button",text:t.$t("mask.cancel"),disabled:t.maskConfirmBtn},nativeOn:{click:function(n){return t.closeMask(n)}}}),t._v(" "),s("public-button",{staticClass:"btn-active",attrs:{type:"button",disabled:t.maskConfirmBtn,text:t.confirmButton},nativeOn:{click:function(n){return t.confirmMapping(n)}}})],1)]):t._e(),t._v(" "),2==t.maskPages?s("section",{staticClass:"mask_cnt mask-res"},[s("section",[s("p",[t._v(t._s(t.$t("mapping.tipTxt")))]),t._v(" "),s("figure",[s("img",{attrs:{src:t.mappingResImg,alt:""}}),t._v(" "),s("figcaption",[t._v("\n          "+t._s(t.$t(t.mappingResTxt))+"\n        ")])])]),t._v(" "),s("section",[s("public-button",{staticClass:"btn-active",attrs:{type:"button",text:t.$t("mask.confirm")},nativeOn:{click:function(n){return t.closeMask(n)}}})],1)]):t._e()])},staticRenderFns:[]};var f=s("VU/8")(g,h,!1,function(t){s("cd+h")},"data-v-b80f1174",null);n.default=f.exports},"cd+h":function(t,n){},vpjl:function(t,n){}});