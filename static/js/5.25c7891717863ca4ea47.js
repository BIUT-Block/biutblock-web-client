webpackJsonp([5],{"+jDd":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("x6sc"),n=e("0WlG"),a=e("mvHQ"),r=e.n(a),o=e("4AGf"),p=e.n(o),c=e("P2IE"),h=e.n(c),d=e("4PV6"),u={"content-type":"application/json"},l={name:"",props:{biutAddress:String,ethAddress:String,txhash:String},components:{publicButton:n.a},data:function(){return{maskPages:1,mappingResImg:p.a,mappingResTxt:"mapping.mappingSuccess"}},created:function(){},computed:{maskWidth:function(){return"zh"==this.$i18n.locale},maskList:function(){return[{id:"03",tit:"mapping.ethwalletddress",txt:this.ethAddress},{id:"02",tit:"mapping.biutwalletAddress",txt:this.biutAddress},{id:"03",tit:"mapping.mappingHash",txt:this.txhash}]}},methods:{closeMask:function(){var t=this.maskPages;this.$emit("close",t),this.maskPages=1},confirmMapping:function(){var t=this;this.maskPages=2;var s=this.biutAddress.replace("0x",""),e={ethaddress:this.ethAddress,biutaddress:s,txhash:this.txhash.replace("0x","").toLowerCase()};d("http://scan.secblock.io/mapping",{method:"post",body:r()(e),headers:u}).then(function(s){200==s.status?(t.mappingResTxt="mapping.mappingSuccess",t.mappingResImg=p.a):(t.mappingResTxt="mapping.mappingFailure",t.mappingResImg=h.a)})}}},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"mask"},[1==t.maskPages?e("section",{staticClass:"mask_cnt mask-list"},[e("h4",{staticClass:"title-line"},[t._v("\n      "+t._s(t.$t("mapping.confirmMapping"))+"\n    ")]),t._v(" "),e("ul",t._l(t.maskList,function(s,i){return e("li",{key:i},[e("span",{class:t.maskWidth?"enWidth":""},[t._v(" "+t._s(t.$t(s.tit))+": ")]),t._v(" "),e("span",[t._v(" "+t._s(s.txt)+" ")])])}),0),t._v(" "),e("section",[e("public-button",{attrs:{type:"button",text:t.$t("mask.cancel")},nativeOn:{click:function(s){return t.closeMask(s)}}}),t._v(" "),e("public-button",{staticClass:"btn-active",attrs:{type:"button",text:t.$t("mask.confirm")},nativeOn:{click:function(s){return t.confirmMapping(s)}}})],1)]):t._e(),t._v(" "),2==t.maskPages?e("section",{staticClass:"mask_cnt mask-res"},[e("section",[e("p",[t._v(t._s(t.$t("mapping.tipTxt")))]),t._v(" "),e("figure",[e("img",{attrs:{src:t.mappingResImg,alt:""}}),t._v(" "),e("figcaption",[t._v("\n          "+t._s(t.$t(t.mappingResTxt))+"\n        ")])])]),t._v(" "),e("section",[e("public-button",{staticClass:"btn-active",attrs:{type:"button",text:t.$t("mask.confirm")},nativeOn:{click:function(s){return t.closeMask(s)}}})],1)]):t._e()])},staticRenderFns:[]};var m=e("VU/8")(l,g,!1,function(t){e("NEU7")},"data-v-28fc5a72",null).exports,v=e("wqCO"),x=e("fgeb"),A=e("96Ie"),f={name:"",components:{contentFooter:i.a,publicButton:n.a,mappingMask:m,publicInput:v.a,publicTips:x.a},props:{},data:function(){return{ethprivateKey:"",ethddress:"mapping.ethddress",biutprivateKey:"",biutAddress:"mapping.biutAddress",gasPriceTxt:"Gas Price",gasLimitTxt:"Gas Limit",tipsTxt1:"mapping.biutKeyErrorTxt",tipsTxt2:"mapping.ethKeyErrorTxt",tipsTxt3:"mapping.mappingHashError",ethAddressShow:!0,biutAddressShow:!0,ethAddressText:"",biutAddressText:"",txhash:"",iosTextIndent:!1,showKey:!1,showBiutKey:!1,showHashKey:!1,maskShow:!1}},computed:{confirmFrom:function(){var t=this.ethprivateKey.replace(/\s+/g,""),s=this.biutprivateKey.replace(/\s+/g,""),e=this.ethAddressText.replace(/\s+/g,""),i=this.biutAddressText.replace(/\s+/g,""),n=this.txhash.replace(/\s+/g,"");return t.length>0&&t.length<64?this.showKey=!0:64!=t.length||_const.priverKeyReg.test(t)?this.showKey=!1:this.showKey=!0,s.length>0&&s.length<64?this.showBiutKey=!0:64!=s.length||_const.priverKeyReg.test(s)?64==s.length&&s==t?this.showBiutKey=!0:this.showBiutKey=!1:this.showBiutKey=!0,n.length>0&&n.length<66?this.showHashKey=!0:66!=n.length||_const.hashReg.test(n)?this.showHashKey=!1:this.showHashKey=!0,!!(64==t.length&&64==s.length&&66==n.length&&_const.priverKeyReg.test(t)&&_const.priverKeyReg.test(s)&&_const.hashReg.test(n)&&42==e.length&&42==i.length&&s!=t&&_const.addressReg.test(i))}},created:function(){},mounted:function(){var t=function(){var t=navigator.userAgent;navigator.appVersion;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1||t.indexOf("Adr")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari")}}();(navigator.browserLanguage||navigator.language).toLowerCase();t.mobile&&t.ios&&(this.iosTextIndent=!0)},destroyed:function(){},methods:{confirmMapping:function(){this.maskShow=!0},getEthAddress:function(t){var s=A.privateToAddress(A.privateToBuffer(t)).toString("hex").replace(/(.{4})/g,"$1,").split(",");return s.pop(),s.map(function(t){var s=t[3];return t=t.substring(0,3),/[a-z]/.test(s)&&(s=s.toUpperCase()),t+s}).join(",").replace(/,/g,"")},getBiutAddress:function(t){var s=A.privateToBuffer(t);return"0x"+A.privateToAddress(s).toString("hex")},cloaseMask:function(t){this.maskShow=!1,2==t&&(this.ethprivateKey="",this.biutprivateKey="",this.biutAddressShow=!0,this.ethAddressShow=!0,this.ethAddressText="",this.biutAddressText="",this.txhash="")},ismobile:function(){var t=navigator.userAgent;return["iPhone","iPad","Android","Windows Phone","BB10; Touch","BB10; Touch","PlayBook","Nokia"].filter(function(s){return t.indexOf(s)>0}).length>0}},watch:{ethprivateKey:function(t,s){if(64==t.length&&_const.priverKeyReg.test(t)){var e="0x"+this.getEthAddress(t);this.ethAddressShow=!1,this.ethAddressText=e}else this.ethAddressShow=!0,this.ethAddressText=""},biutprivateKey:function(t,s){if(64==t.length&&_const.priverKeyReg.test(t)){var e=this.getBiutAddress(t);this.biutAddressShow=!1,this.biutAddressText=e}else this.biutAddressShow=!0,this.biutAddressText=""}}},_={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("main",{staticClass:"el-container"},[e("main",{staticClass:"wallet-background"},[e("section",{staticClass:"wallet-mapping"},[e("section",{staticClass:"mapping-tips"},[e("ul",[e("li",[e("span",[t._v("1、")]),t._v(" "),e("span",[t._v(t._s(t.$t("mapping.mappingTipsTxt1")))])]),t._v(" "),e("li",[e("span",[t._v("2、")]),t._v(" "),e("span",[t._v(t._s(t.$t("mapping.mappingTipsTxt2")))])])])]),t._v(" "),e("section",{staticClass:"input-content"},[e("section",{staticClass:"input-text"},[e("section",{staticClass:"tips-list"},[e("p",[t._v(t._s(t.$t("mapping.ethprivateKey"))),e("label",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),e("public-tips",{directives:[{name:"show",rawName:"v-show",value:t.showKey,expression:"showKey"}],attrs:{tipsTxt:t.tipsTxt2}})],1),t._v(" "),e("public-input",{class:t.showKey?"error-border":"",attrs:{placeholder:t.$t("mapping.ethprivateKey"),maxlength:64},model:{value:t.ethprivateKey,callback:function(s){t.ethprivateKey="string"==typeof s?s.trim():s},expression:"ethprivateKey"}})],1),t._v(" "),e("section",{staticClass:"input-text"},[e("section",{staticClass:"tips-list"},[e("p",[t._v(t._s(t.$t("mapping.biutprivateKey"))),e("label",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),e("public-tips",{directives:[{name:"show",rawName:"v-show",value:t.showBiutKey,expression:"showBiutKey"}],attrs:{tipsTxt:t.tipsTxt1}})],1),t._v(" "),e("public-input",{class:t.showBiutKey?"error-border":"",attrs:{placeholder:t.$t("mapping.biutprivateKey"),maxlength:64},model:{value:t.biutprivateKey,callback:function(s){t.biutprivateKey="string"==typeof s?s.trim():s},expression:"biutprivateKey"}})],1)]),t._v(" "),e("section",{staticClass:"input-content mapping-top"},[e("section",{staticClass:"input-text"},[e("p",[t._v(t._s(t.$t("mapping.ethddress")))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.ethAddressShow,expression:"ethAddressShow"}],class:t.iosTextIndent?"iost-padding":""},[t._v(" "+t._s(t.$t("mapping.ethddress"))+" ")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.ethAddressShow,expression:"!ethAddressShow"}],staticClass:"address-color",class:t.iosTextIndent?"iost-padding":""},[t._v(" "+t._s(t.ethAddressText)+" ")])]),t._v(" "),e("section",{staticClass:"input-text"},[e("p",[t._v(t._s(t.$t("mapping.biutAddress")))]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.biutAddressShow,expression:"biutAddressShow"}],class:t.iosTextIndent?"iost-padding":""},[t._v(" "+t._s(t.$t("mapping.biutAddress"))+" ")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.biutAddressShow,expression:"!biutAddressShow"}],staticClass:"address-color",class:t.iosTextIndent?"iost-padding":""},[t._v(" "+t._s(t.biutAddressText)+" ")])])]),t._v(" "),e("section",{staticClass:"input-content mapping-top"},[e("section",{staticClass:"input-text"},[e("section",{staticClass:"tips-list"},[e("p",[t._v(t._s(t.$t("mapping.mappingHash"))),e("label",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),e("public-tips",{directives:[{name:"show",rawName:"v-show",value:t.showHashKey,expression:"showHashKey"}],attrs:{tipsTxt:t.tipsTxt3}})],1),t._v(" "),e("public-input",{class:t.showHashKey?"error-border":"",attrs:{placeholder:t.$t("mapping.mappingHashTxt"),maxlength:66},model:{value:t.txhash,callback:function(s){t.txhash="string"==typeof s?s.trim():s},expression:"txhash"}})],1),t._v(" "),e("section",{staticClass:"input-text"})]),t._v(" "),e("public-button",{class:t.confirmFrom?"btn-active":"",attrs:{type:"button",text:t.$t("mapping.mappingButton"),disabled:!t.confirmFrom},nativeOn:{click:function(s){return t.confirmMapping(s)}}})],1),t._v(" "),e("content-footer")],1),t._v(" "),e("mapping-mask",{directives:[{name:"show",rawName:"v-show",value:t.maskShow,expression:"maskShow"}],attrs:{biutAddress:t.biutAddressText,ethAddress:t.ethAddressText,txhash:t.txhash},on:{close:t.cloaseMask}})],1)},staticRenderFns:[]};var b=e("VU/8")(f,_,!1,function(t){e("3gvM")},"data-v-f903a8f4",null);s.default=b.exports},"3gvM":function(t,s){},"4AGf":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAUVBMVEUAAAAo2JMo2JIo2JMo2JIl2pUp2JIp2JIo148p2JP7//1X4apo5LP1/frQ9+ix8dhg4q9Q36fz/fnC9OCq8NSk7tGd7c6L6sRx5bcz2Zgw2ZZglO/CAAAACXRSTlMA8MCAcDDvsCAqTgU7AAAAdUlEQVQY02WPVxLDIAwFVUD2gzSnJ/c/aFCEy4z3B1ZtJHKyiplopk5CYCl8wMIQ+Q2tJm/0NVkmXf1ZKpRk8Ue5AEIM1Nu3+d0d9g8cTx+cywEN9haPdIfE0HrtDqXM/k7vcB53i+1WdxL3es/P5zOLjv7/AfPTB1qs/XhRAAAAAElFTkSuQmCC"},NEU7:function(t,s){},XJlz:function(t,s){},wqCO:function(t,s,e){"use strict";var i=e("Dd8w"),n=e.n(i),a={name:"inputVue",components:{},props:{},data:function(){return{}},computed:{listeners:function(){var t=this;return n()({},this.$listeners,{input:function(s){return t.$emit("input",s.target.value)}})}},created:function(){},mounted:function(){},destroyed:function(){},methods:{}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("input",this._g(this._b({attrs:{onkeyup:"this.value=this.value.replace(/\\s+/g,'')"}},"input",this.$attrs,!1),this.listeners))},staticRenderFns:[]};var o=e("VU/8")(a,r,!1,function(t){e("XJlz")},"data-v-cc1803f2",null);s.a=o.exports}});